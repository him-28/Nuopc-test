README for FV3-CHEM NUOPC prototype
----------------------------------

Dependencies:
  - ESMF v7.1.0 development snapshot 
    (branch: NUOPC_conn_extend, SHA: ba990c)
  
Build:
  - Set environment variable ESMFMKFILE to point to the esmf.mk of your ESMF
    installation.
  - gmake
  
Execution:
  - Optionally set environment variable ESMF_RUNTIME_COMPLIANCECHECK to ON.
  - Edit NUOPC run sequence, if needed.
  - Set number of PET dedicated to FV3's wrt subcomponent in 
    fv3.configure (see Code Structure).
  - mpirun -np X ./esmApp (where X is the total number of PETs)
  
Output:
  - PET*.Log files containing compliance checker output if turned on.
  - The prototype outputs time stepping information to stdout.
  


Code structure:
  - Makefile    - Makefile that is based on the standard esmf.mk mechanism.
  - fv3/        - Directory containint the FV3 component, specializing generic
                  NUOPC_Model. This component includes two subcomponents:
                  1. an active component (fcst) exchanging data
                  2. an idle component (wrt) doing no work.
                  The number of PETs assigned to wrt is set in fv3.configure;
                  fcst will run on the remaining PETs.
  - chem/       - Directory containint the CHEM component, which accesses
                  imported fields from FV3 by reference.
  - esm.F90     - The Earth System Model (ESM) component, specializing generic
                  NUOPC_Driver. Reads NUOPC run sequence in esm.configure.
  - esmApp.F90  - ESM driver application.
