README for LocStream RedistStore Test
-------------------------------------

This reproducer is designed to reproduce the scalability issue occuring
during the FieldBundleRedistStore call when calculating the RouteHandle
between two sets of fields built on arbitrarily distributed LocStreams.

The issue was discovered while running a test case with 5 million
arbitrarily distributed points being redistributed from 1024 processors
to 32 processors.

Dependencies:
  - ESMF with LocStream Reconcile Fix (branch fb_on_ls_reconcile_fix)
      * ESMF v8.0.0 beta snapshot TBD
  
Build:
  - Set environment variable ESMFMKFILE to point to the esmf.mk of your ESMF
    installation.
  - gmake
  
Execution:
  - Modify the Portable Batch System(PBS) template script, qsub_template.sh.
  - Optionally set environment variable ESMF_RUNTIME_COMPLIANCECHECK to ON.
  - Optionally set environment variable ESMF_RUNTIME_TRACE to OFF. 
  - Submit a job to the PBS job scheduler, qsub qsub_script.sh
    Or call mpiexec -n X ./esmTest.exe (where X is the number of mpi tasks.)
  
Output:
  - PET*.Log files containing compliance checker output if turned on.
  - The application outputs model status information to stdout.

Code structure:
  - Makefile           - Makefile that is based on the standard esmf.mk
                         mechanism.
  - user_coupler.F90   - The "fieldbundle data" coupling component.
  - user_model1.F90    - The "fieldbundle data" source component.
  - user_model2.F90    - The "fieldbundle data" destination component.
  - esmTest.F90        - The Earth System Model (ESM) component, which
                         creates, initializes, runs, and finalizes the
                         user components.

